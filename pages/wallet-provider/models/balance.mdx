# Balance

Stores User current balance token balance for a user

## Schema

- `account` : ([Account](./account))
- `token` : ([Token](./token))
- `snapshot` : ([BalanceSnapshot](./balance-snapshot))

## Relations

- [Account](./account) - MANY
- [Token](./token) - MANY
- [BalanceSnapshot](./balance-snapshot) - ONE

## Prisma definition

```prisma
model Balance {
  accountId      String            @map("account_id") @db.Uuid
  tokenId        String            @map("token_id") @db.Uuid
  snapshotId     String            @map("snapshot_id") @db.Uuid
  account        Account           @relation(fields: [accountId], references: [id], onUpdate: NoAction, onDelete: NoAction)
  token          Token             @relation(fields: [tokenId], references: [id], onUpdate: NoAction, onDelete: NoAction)
  snapshot       BalanceSnapshot   @relation("balance_to_snapshot", fields: [snapshotId], references: [id])
  dummy_snapshot BalanceSnapshot[] @relation("snapshot_to_balance") @ignore

  @@id([accountId, tokenId])
  @@unique([snapshotId])
  @@map("balances")
}
```
